# 社交媒体网络文本数据分析工具

这是一个用于分析使用MediaCrawler从社交媒体平台（小红书、抖音）爬取的数据的工具，可以进行数据清洗、数据统计、内容提取、舆情分析和深度文本分析。

## 功能特点

1. **数据统计**：统计评论和内容的有效数据数量
2. **内容提取**：从JSON文件中提取有用信息并整理成结构化数据
3. **舆情分析**：
   - 词频分析和词云可视化
   - 语义网络分析
   - 情感倾向分析
4. **DeepSeek API集成**：调用DeepSeek R1进行三级编码分析
5. **交互式界面**：使用Streamlit提供友好的用户界面
6. **数据导出**：支持CSV格式导出和分析结果复制

## 安装说明

1. 确保已安装Python 3.8或更高版本（建议使用anaconda，Python 3.11）
2. 安装依赖包：

```bash
pip install -r requirements.txt
```

## 使用方法

1. 将爬取的数据文件放在对应平台的目录下：
   - 小红书数据：放在`xhs`目录下
   - 抖音数据：放在`dy`目录下
   - 文件名格式：`search_comments_2025-04-12.json`（评论数据）和`search_contents_2025-04-12.json`（内容数据）

2. 运行应用（可指定平台）：

```bash
# 默认分析小红书数据
streamlit run app.py

# 指定分析抖音数据
streamlit run app.py -- --platform dy
```

3. 在浏览器中访问应用（通常是http://localhost:8501）

## 分析流程

1. **数据加载与统计**：程序会自动加载JSON文件并统计有效数据数量
2. **数据预览**：可以查看评论和内容数据的预览，并下载CSV格式
3. **舆情分析**：
   - 查看高频词统计和词云
   - 探索语义网络关系图
   - 分析情感倾向分布
4. **DeepSeek分析**：
   - 编辑要分析的文本
   - 点击按钮调用DeepSeek API
   - 查看三级编码分析结果
5. **结果导出**：复制分析结果用于论文研究

## 注意事项

- DeepSeek API有字符限制，过长的文本会被截断
- 首次运行时，词云生成可能需要下载中文字体
- 情感分析基于SnowNLP模型，结果仅供参考

## 自定义配置

可以在`app.py`文件中修改以下配置：

- `DEEPSEEK_API_KEY`：更新为您自己的API密钥
- 停用词列表：根据需要在`word_frequency_analysis`函数中调整
- 情感阈值：在`sentiment_analysis`函数中调整积极/消极的判定阈值